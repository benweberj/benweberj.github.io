{"ast":null,"code":"export default function follower(p) {\n  let win = {\n    x: window.innerWidth,\n    y: window.innerHeight\n  };\n  let cnv;\n  let bg;\n  let follower;\n\n  p.setup = () => {\n    cnv = p.createCanvas(win.x, win.y);\n    cnv.position(0, 0);\n    cnv.style('z-index', -100);\n    follower = new Follower(p.createVector(p.random(p.width), p.random(p.height)));\n  };\n\n  p.draw = () => {\n    p.background(bg);\n    follower.follow(p.createVector(p.mouseX, p.mouseY));\n    follower.draw();\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = props => {\n    bg = props.theme.base;\n  };\n\n  window.onresize = () => {\n    win = {\n      x: window.innerWidth,\n      y: window.innerHeight\n    };\n    p.resizeCanvas(win.x, win.y);\n  };\n\n  class Follower {\n    constructor(pos) {\n      this.pos = pos;\n      this.vel = p.createVector();\n      this.size = 10;\n    }\n\n    follow(mouse) {\n      let dir = this.sub(mouse, this.pos).mult(.00001); // if (dir.mag() > 5) dir.setMag(5)\n\n      let d = p.dist(this.pos, mouse);\n      dir.mult(.01 / (d * d)); // dir.mult(1/(1000))\n      // if (this.vel.mag() > 10) this.vel.setMag(10)\n\n      this.vel.add(dir);\n    }\n\n    draw() {\n      p.fill('green');\n      this.pos.add(this.vel);\n      this.checkBounds();\n      p.ellipse(this.pos.x, this.pos.y, this.size);\n    } // a vector pointing from v1 to v2\n\n\n    sub(v1, v2) {\n      return p.createVector(v1.x - v2.x, v1.y - v2.y);\n    }\n\n    checkBounds() {\n      if (this.pos.x < this.size / 2 || this.pos.x > p.width - this.size / 2) {\n        this.vel = p.createVector(-this.vel.x, this.vel.y);\n      } else if (this.pos.y < this.size / 2 || this.pos.y > p.height - this.size / 2) {\n        this.vel = p.createVector(this.vel.x, -this.vel.y);\n      }\n    }\n\n  }\n}","map":{"version":3,"sources":["/Users/ben/Desktop/react-personalsite/src/follower.js"],"names":["follower","p","win","x","window","innerWidth","y","innerHeight","cnv","bg","setup","createCanvas","position","style","Follower","createVector","random","width","height","draw","background","follow","mouseX","mouseY","myCustomRedrawAccordingToNewPropsHandler","props","theme","base","onresize","resizeCanvas","constructor","pos","vel","size","mouse","dir","sub","mult","d","dist","add","fill","checkBounds","ellipse","v1","v2"],"mappings":"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","sourcesContent":["export default function follower(p) {\n  let win = { x: window.innerWidth, y: window.innerHeight }\n  let cnv\n  let bg\n  let follower\n\n  p.setup = () => {\n    cnv = p.createCanvas(win.x, win.y)\n    cnv.position(0,0)\n    cnv.style('z-index', -100)\n    follower = new Follower(p.createVector(p.random(p.width), p.random(p.height)))\n  }\n\n  p.draw = () => {\n    p.background(bg)\n    follower.follow(p.createVector(p.mouseX, p.mouseY))\n    follower.draw()\n  }\n\n  p.myCustomRedrawAccordingToNewPropsHandler = props => {\n    bg = props.theme.base\n  }\n\n  window.onresize = () => {\n    win = { x: window.innerWidth, y: window.innerHeight }\n    p.resizeCanvas(win.x, win.y)\n  }\n\n  class Follower {\n    constructor(pos) {\n      this.pos = pos\n      this.vel = p.createVector()\n      this.size = 10\n    }\n\n    follow(mouse) {\n      let dir = this.sub(mouse, this.pos).mult(.00001)\n      // if (dir.mag() > 5) dir.setMag(5)\n      let d = p.dist(this.pos, mouse)\n      dir.mult(.01/(d*d))\n      // dir.mult(1/(1000))\n      // if (this.vel.mag() > 10) this.vel.setMag(10)\n      this.vel.add(dir)\n    }\n\n    draw() {\n      p.fill('green')\n      this.pos.add(this.vel)\n      this.checkBounds()\n      p.ellipse(this.pos.x, this.pos.y, this.size)\n    }\n\n    // a vector pointing from v1 to v2\n    sub(v1, v2) {\n      return p.createVector(v1.x - v2.x, v1.y - v2.y)\n    }\n\n    checkBounds() {\n      if (this.pos.x < this.size/2 || this.pos.x > p.width - this.size/2) {\n        this.vel = p.createVector(-this.vel.x, this.vel.y)\n      } else if (this.pos.y < this.size / 2 || this.pos.y > p.height - this.size / 2) {\n        this.vel = p.createVector(this.vel.x, -this.vel.y)\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}