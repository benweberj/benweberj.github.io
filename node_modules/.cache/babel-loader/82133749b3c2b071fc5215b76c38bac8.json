{"ast":null,"code":"export default function sketch(p) {\n  let canvas;\n  let nodes = [];\n  let maxDist = 200;\n  let nodeCount = 50;\n\n  p.setup = () => {\n    canvas = p.createCanvas(p.windowWidth, p.windowHeight);\n    p.background('#0d1e35');\n\n    for (let i = 0; i < nodeCount; i++) {\n      nodes.push(new Node(p, p.createVector(p.random(p.width), p.random(p.height)), maxDist));\n    }\n  };\n\n  p.draw = () => {\n    p.clear();\n    p.background('#0d1e35');\n    nodes.forEach(node => {\n      node.update();\n      let nearbyNodes = [];\n      nodes.forEach(other => {\n        if (other !== node && node.pos.dist(other.pos) <= maxDist) {\n          nearbyNodes.push(other);\n        }\n      });\n      node.neighbors = nearbyNodes;\n      let mouse = p.createVector(p.mouseX, p.mouseY); // if (mouse.dist(node.pos) <= maxDist) {\n\n      let dirToMouse = mouse.sub(node.pos);\n      let vector = dirToMouse.mult(4 / Math.pow(dirToMouse.mag(), 2));\n      node.vel.add(vector); // }\n    });\n  };\n\n  p.myCustomRedrawAccordingToNewPropsHandler = newProps => {\n    if (canvas) {\n      p.fill(newProps.color);\n    }\n  };\n}\n\nclass Node {\n  constructor(p, origin, maxDist) {\n    this.p = p;\n    this.maxDist = maxDist;\n    this.neighbors = [];\n    this.r = p.random(3, 10);\n    this.rate = p.random(.5, 3);\n    this.respawn();\n    this.pos = origin;\n  }\n\n  respawn() {\n    this.pos = this.p.createVector(this.p.random(this.p.width), this.p.random(-300, -50));\n    this.vel = this.p.createVector(this.p.random(-this.rate, this.rate), this.p.random(this.rate));\n  }\n\n  update() {\n    this.pos.add(this.vel);\n    this.interract(this.neighbors); // draw\n\n    this.p.stroke('#fff');\n    this.p.strokeWeight(this.r);\n    this.p.point(this.pos.x, this.pos.y);\n    this.checkBounds();\n  }\n\n  interract(neighbors) {\n    neighbors.forEach(other => {\n      this.p.strokeWeight(this.mapRange(this.pos.dist(other.pos), 0, this.maxDist + 5, 1, 0));\n      this.p.stroke('#fff'); // this.p.line(this.pos.x, this.pos.y, other.pos.x, other.pos.y)\n\n      let forceToThis = this.pos.copy().sub(other.pos).mult(.0001);\n      other.vel.add(forceToThis);\n    });\n  }\n\n  mapRange(num, inMin, inMax, outMin, outMax) {\n    return (num - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n  }\n\n  checkBounds() {}\n\n}","map":{"version":3,"sources":["/Users/ben/Desktop/react-personalsite/src/particleMesh.js"],"names":["sketch","p","canvas","nodes","maxDist","nodeCount","setup","createCanvas","windowWidth","windowHeight","background","i","push","Node","createVector","random","width","height","draw","clear","forEach","node","update","nearbyNodes","other","pos","dist","neighbors","mouse","mouseX","mouseY","dirToMouse","sub","vector","mult","Math","pow","mag","vel","add","myCustomRedrawAccordingToNewPropsHandler","newProps","fill","color","constructor","origin","r","rate","respawn","interract","stroke","strokeWeight","point","x","y","checkBounds","mapRange","forceToThis","copy","num","inMin","inMax","outMin","outMax"],"mappings":"AAAA,eAAe,SAASA,MAAT,CAAgBC,CAAhB,EAAmB;AAChC,MAAIC,MAAJ;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,OAAO,GAAG,GAAd;AACA,MAAIC,SAAS,GAAG,EAAhB;;AAEAJ,EAAAA,CAAC,CAACK,KAAF,GAAU,MAAM;AACdJ,IAAAA,MAAM,GAAGD,CAAC,CAACM,YAAF,CAAeN,CAAC,CAACO,WAAjB,EAA8BP,CAAC,CAACQ,YAAhC,CAAT;AACAR,IAAAA,CAAC,CAACS,UAAF,CAAa,SAAb;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,SAApB,EAA+BM,CAAC,EAAhC,EAAoC;AAClCR,MAAAA,KAAK,CAACS,IAAN,CAAW,IAAIC,IAAJ,CAASZ,CAAT,EAAYA,CAAC,CAACa,YAAF,CAAeb,CAAC,CAACc,MAAF,CAASd,CAAC,CAACe,KAAX,CAAf,EAAkCf,CAAC,CAACc,MAAF,CAASd,CAAC,CAACgB,MAAX,CAAlC,CAAZ,EAAmEb,OAAnE,CAAX;AACD;AACF,GAPD;;AASAH,EAAAA,CAAC,CAACiB,IAAF,GAAS,MAAM;AACbjB,IAAAA,CAAC,CAACkB,KAAF;AACAlB,IAAAA,CAAC,CAACS,UAAF,CAAa,SAAb;AACAP,IAAAA,KAAK,CAACiB,OAAN,CAAcC,IAAI,IAAI;AACpBA,MAAAA,IAAI,CAACC,MAAL;AAEA,UAAIC,WAAW,GAAG,EAAlB;AACApB,MAAAA,KAAK,CAACiB,OAAN,CAAcI,KAAK,IAAI;AACrB,YAAIA,KAAK,KAAKH,IAAV,IAAkBA,IAAI,CAACI,GAAL,CAASC,IAAT,CAAcF,KAAK,CAACC,GAApB,KAA4BrB,OAAlD,EAA2D;AACzDmB,UAAAA,WAAW,CAACX,IAAZ,CAAiBY,KAAjB;AACD;AACF,OAJD;AAKAH,MAAAA,IAAI,CAACM,SAAL,GAAiBJ,WAAjB;AAEA,UAAIK,KAAK,GAAG3B,CAAC,CAACa,YAAF,CAAeb,CAAC,CAAC4B,MAAjB,EAAyB5B,CAAC,CAAC6B,MAA3B,CAAZ,CAXoB,CAYpB;;AACE,UAAIC,UAAU,GAAGH,KAAK,CAACI,GAAN,CAAUX,IAAI,CAACI,GAAf,CAAjB;AACA,UAAIQ,MAAM,GAAGF,UAAU,CAACG,IAAX,CAAgB,IAAIC,IAAI,CAACC,GAAL,CAASL,UAAU,CAACM,GAAX,EAAT,EAA2B,CAA3B,CAApB,CAAb;AACAhB,MAAAA,IAAI,CAACiB,GAAL,CAASC,GAAT,CAAaN,MAAb,EAfkB,CAgBpB;AACD,KAjBD;AAkBD,GArBD;;AAuBAhC,EAAAA,CAAC,CAACuC,wCAAF,GAA8CC,QAAD,IAAc;AACzD,QAAIvC,MAAJ,EAAY;AACVD,MAAAA,CAAC,CAACyC,IAAF,CAAOD,QAAQ,CAACE,KAAhB;AACD;AACF,GAJD;AAKD;;AAED,MAAM9B,IAAN,CAAW;AAET+B,EAAAA,WAAW,CAAC3C,CAAD,EAAI4C,MAAJ,EAAYzC,OAAZ,EAAqB;AAC9B,SAAKH,CAAL,GAASA,CAAT;AACA,SAAKG,OAAL,GAAeA,OAAf;AACA,SAAKuB,SAAL,GAAiB,EAAjB;AACA,SAAKmB,CAAL,GAAS7C,CAAC,CAACc,MAAF,CAAS,CAAT,EAAY,EAAZ,CAAT;AACA,SAAKgC,IAAL,GAAY9C,CAAC,CAACc,MAAF,CAAS,EAAT,EAAa,CAAb,CAAZ;AACA,SAAKiC,OAAL;AACA,SAAKvB,GAAL,GAAWoB,MAAX;AACD;;AAEDG,EAAAA,OAAO,GAAG;AACR,SAAKvB,GAAL,GAAW,KAAKxB,CAAL,CAAOa,YAAP,CAAoB,KAAKb,CAAL,CAAOc,MAAP,CAAc,KAAKd,CAAL,CAAOe,KAArB,CAApB,EAAiD,KAAKf,CAAL,CAAOc,MAAP,CAAc,CAAC,GAAf,EAAoB,CAAC,EAArB,CAAjD,CAAX;AACA,SAAKuB,GAAL,GAAW,KAAKrC,CAAL,CAAOa,YAAP,CAAoB,KAAKb,CAAL,CAAOc,MAAP,CAAc,CAAC,KAAKgC,IAApB,EAA0B,KAAKA,IAA/B,CAApB,EAA0D,KAAK9C,CAAL,CAAOc,MAAP,CAAc,KAAKgC,IAAnB,CAA1D,CAAX;AACD;;AAEDzB,EAAAA,MAAM,GAAG;AACP,SAAKG,GAAL,CAASc,GAAT,CAAa,KAAKD,GAAlB;AAEA,SAAKW,SAAL,CAAe,KAAKtB,SAApB,EAHO,CAKP;;AACA,SAAK1B,CAAL,CAAOiD,MAAP,CAAc,MAAd;AACA,SAAKjD,CAAL,CAAOkD,YAAP,CAAoB,KAAKL,CAAzB;AACA,SAAK7C,CAAL,CAAOmD,KAAP,CAAa,KAAK3B,GAAL,CAAS4B,CAAtB,EAAyB,KAAK5B,GAAL,CAAS6B,CAAlC;AAEA,SAAKC,WAAL;AACD;;AAEDN,EAAAA,SAAS,CAACtB,SAAD,EAAY;AACnBA,IAAAA,SAAS,CAACP,OAAV,CAAkBI,KAAK,IAAI;AACzB,WAAKvB,CAAL,CAAOkD,YAAP,CAAoB,KAAKK,QAAL,CAAc,KAAK/B,GAAL,CAASC,IAAT,CAAcF,KAAK,CAACC,GAApB,CAAd,EAAwC,CAAxC,EAA2C,KAAKrB,OAAL,GAAa,CAAxD,EAA2D,CAA3D,EAA8D,CAA9D,CAApB;AACA,WAAKH,CAAL,CAAOiD,MAAP,CAAc,MAAd,EAFyB,CAGzB;;AAEA,UAAIO,WAAW,GAAG,KAAKhC,GAAL,CAASiC,IAAT,GAAgB1B,GAAhB,CAAoBR,KAAK,CAACC,GAA1B,EAA+BS,IAA/B,CAAoC,KAApC,CAAlB;AACAV,MAAAA,KAAK,CAACc,GAAN,CAAUC,GAAV,CAAckB,WAAd;AACD,KAPD;AAQD;;AAEDD,EAAAA,QAAQ,CAACG,GAAD,EAAMC,KAAN,EAAaC,KAAb,EAAoBC,MAApB,EAA4BC,MAA5B,EAAoC;AAC1C,WAAO,CAACJ,GAAG,GAAGC,KAAP,KAAiBG,MAAM,GAAGD,MAA1B,KAAqCD,KAAK,GAAGD,KAA7C,IAAsDE,MAA7D;AACD;;AAEDP,EAAAA,WAAW,GAAG,CAEb;;AA/CQ","sourcesContent":["export default function sketch(p) {\n  let canvas\n  let nodes = []\n  let maxDist = 200\n  let nodeCount = 50\n\n  p.setup = () => {\n    canvas = p.createCanvas(p.windowWidth, p.windowHeight)\n    p.background('#0d1e35')\n\n    for (let i = 0; i < nodeCount; i++) {\n      nodes.push(new Node(p, p.createVector(p.random(p.width), p.random(p.height)), maxDist))\n    }\n  }\n\n  p.draw = () => {\n    p.clear()\n    p.background('#0d1e35')\n    nodes.forEach(node => {\n      node.update()\n\n      let nearbyNodes = []\n      nodes.forEach(other => {\n        if (other !== node && node.pos.dist(other.pos) <= maxDist) {\n          nearbyNodes.push(other)\n        }\n      })\n      node.neighbors = nearbyNodes\n\n      let mouse = p.createVector(p.mouseX, p.mouseY)\n      // if (mouse.dist(node.pos) <= maxDist) {\n        let dirToMouse = mouse.sub(node.pos)\n        let vector = dirToMouse.mult(4 / Math.pow(dirToMouse.mag(), 2))\n        node.vel.add(vector)\n      // }\n    })\n  }\n\n  p.myCustomRedrawAccordingToNewPropsHandler = (newProps) => {\n    if (canvas) {\n      p.fill(newProps.color)\n    }\n  }\n}\n\nclass Node {\n\n  constructor(p, origin, maxDist) {\n    this.p = p\n    this.maxDist = maxDist\n    this.neighbors = []\n    this.r = p.random(3, 10)\n    this.rate = p.random(.5, 3)\n    this.respawn()\n    this.pos = origin\n  }\n\n  respawn() {\n    this.pos = this.p.createVector(this.p.random(this.p.width), this.p.random(-300, -50))\n    this.vel = this.p.createVector(this.p.random(-this.rate, this.rate), this.p.random(this.rate))\n  }\n\n  update() {\n    this.pos.add(this.vel)\n\n    this.interract(this.neighbors)\n\n    // draw\n    this.p.stroke('#fff')\n    this.p.strokeWeight(this.r)\n    this.p.point(this.pos.x, this.pos.y)\n\n    this.checkBounds()\n  }\n\n  interract(neighbors) {\n    neighbors.forEach(other => {\n      this.p.strokeWeight(this.mapRange(this.pos.dist(other.pos), 0, this.maxDist+5, 1, 0))\n      this.p.stroke('#fff')\n      // this.p.line(this.pos.x, this.pos.y, other.pos.x, other.pos.y)\n\n      let forceToThis = this.pos.copy().sub(other.pos).mult(.0001)\n      other.vel.add(forceToThis)\n    })\n  }\n\n  mapRange(num, inMin, inMax, outMin, outMax) {\n    return (num - inMin) * (outMax - outMin) / (inMax - inMin) + outMin\n  }\n\n  checkBounds() {\n\n  }\n}"]},"metadata":{},"sourceType":"module"}